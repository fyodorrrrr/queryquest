<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Playground</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header__brand">
            <h1 class="header__title">QUERYQUEST</h1>
        </div>
        
        <nav class="header__nav">
            <a href="#" class="nav-item nav-item--active" data-page="play">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                </svg>
                <span class="nav-label">Play</span>
            </a>
            <a href="#" class="nav-item" data-page="about">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span class="nav-label">About</span>
            </a>
        </nav>
        
        <div class="header__spacer"></div>
    </header>

    <div class="container">
        <!-- LEFT: Block Menu -->
        <aside class="block-menu">
            <div class="block-menu__header">
                <h2>üß© Puzzle Blocks</h2>
                <p style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">Drag available blocks to build</p>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Commands</h3>
                <div class="block-list">
                    <div class="block block--command" draggable="true" data-type="SELECT">SELECT</div>
                    <div class="block block--command" draggable="true" data-type="FROM">FROM</div>
                    <div class="block block--command" draggable="true" data-type="WHERE">WHERE</div>
                    <div class="block block--command" draggable="true" data-type="JOIN">JOIN</div>
                    <div class="block block--command" draggable="true" data-type="ON">ON</div>
                    <div class="block block--command" draggable="true" data-type="GROUP BY">GROUP BY</div>
                    <div class="block block--command" draggable="true" data-type="ORDER BY">ORDER BY</div>
                    <div class="block block--command" draggable="true" data-type="LIMIT">LIMIT</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Comparisons</h3>
                <div class="block-list">
                    <div class="block block--operator" draggable="true" data-type="=">=</div>
                    <div class="block block--operator" draggable="true" data-type="!=">!=</div>
                    <div class="block block--operator" draggable="true" data-type=">">&gt;</div>
                    <div class="block block--operator" draggable="true" data-type="<">&lt;</div>
                    <div class="block block--operator" draggable="true" data-type=">=">>=</div>
                    <div class="block block--operator" draggable="true" data-type="<="><=</div>
                    <div class="block block--operator" draggable="true" data-type="LIKE">LIKE</div>
                    <div class="block block--operator" draggable="true" data-type="IN">IN</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Logic</h3>
                <div class="block-list">
                    <div class="block block--operator" draggable="true" data-type="AND">AND</div>
                    <div class="block block--operator" draggable="true" data-type="OR">OR</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Functions</h3>
                <div class="block-list">
                    <div class="block block--function" draggable="true" data-type="COUNT()">COUNT()</div>
                    <div class="block block--function" draggable="true" data-type="SUM()">SUM()</div>
                    <div class="block block--function" draggable="true" data-type="AVG()">AVG()</div>
                    <div class="block block--function" draggable="true" data-type="MIN()">MIN()</div>
                    <div class="block block--function" draggable="true" data-type="MAX()">MAX()</div>
                    <div class="block block--function" draggable="true" data-type="DISTINCT">DISTINCT</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Tables</h3>
                <div class="block-list">
                    <div class="block block--table" draggable="true" data-type="employees">employees</div>
                    <div class="block block--table" draggable="true" data-type="departments">departments</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Columns</h3>
                <div class="block-list">
                    <div class="block block--column" draggable="true" data-type="*">*</div>
                    <div class="block block--column" draggable="true" data-type="id">id</div>
                    <div class="block block--column" draggable="true" data-type="name">name</div>
                    <div class="block block--column" draggable="true" data-type="department">department</div>
                    <div class="block block--column" draggable="true" data-type="salary">salary</div>
                    <div class="block block--column" draggable="true" data-type="hire_date">hire_date</div>
                    <div class="block block--column" draggable="true" data-type="location">location</div>
                </div>
            </div>
            
            <div class="block-category">
                <h3 class="block-category__title">Values & Sorting</h3>
                <div class="block-list">
                    <div class="block block--value" draggable="true" data-type="ASC">ASC</div>
                    <div class="block block--value" draggable="true" data-type="DESC">DESC</div>
                    <div class="block block--value block--value-input" draggable="true" data-type="number">
                        <span>üî¢</span>
                        <input type="number" class="block-input" placeholder="123" onclick="event.stopPropagation()">
                    </div>
                    <div class="block block--value block--value-input" draggable="true" data-type="text">
                        <span>üìù</span>
                        <input type="text" class="block-input" placeholder="text" onclick="event.stopPropagation()">
                    </div>
                </div>
            </div>
        </aside>

        <!-- CENTER: Query Builder -->
        <section class="builder-panel">
            <div class="builder-header">
                <h2>üî® Query Builder</h2>
                <button class="btn btn-clear-builder" id="clear-builder-btn">üóëÔ∏è Clear All</button>
            </div>
            
            <div id="query-canvas" class="query-canvas">
                <div class="canvas-placeholder">
                    <span>üß© Drag blocks here to build your query</span>
                    <br>
                    <small style="color: var(--text-secondary);">Start with SELECT</small>
                </div>
            </div>
            
            <div class="generated-sql">
                <div class="generated-sql__header">
                    <h3>üìÑ Generated SQL</h3>
                </div>
                <pre id="generated-sql-output" class="sql-output">-- Your query will appear here</pre>
            </div>
            
            <div class="controls">
                <button class="btn btn-run btn--disabled" id="run-builder-btn" disabled>‚ñ∂Ô∏è Run Query</button>
            </div>
        </section>

        <!-- RIGHT: Results & Schema -->
        <main class="results-panel">
            <nav class="tabs">
                <button class="tab tab-active" data-tab="results">üìä Results</button>
                <button class="tab" data-tab="schema">üóÉÔ∏è Schema</button>
            </nav>
            
            <!-- Results Tab -->
            <div id="results-tab" class="tab-content tab-content-active">
                <div id="message"></div>
                
                <!-- Results Info Bar -->
                <div id="results-info" class="results-info"></div>
                
                <!-- Table Container -->
                <div id="results" class="results-container">
                    <div class="empty-state">
                        <div class="empty-state__icon">üß©</div>
                        <p>Build a query and run it to see results</p>
                    </div>
                </div>
                
                <div class="example-queries">
                    <h3>üìö Try building these:</h3>
                    <code class="example-query">SELECT * FROM employees</code>
                    <code class="example-query">SELECT name, salary FROM employees WHERE salary > 70000</code>
                    <code class="example-query">SELECT department, COUNT(*) FROM employees GROUP BY department</code>
                </div>
            </div>
            
            <!-- Schema Tab -->
            <div id="schema-tab" class="tab-content">
                <div id="schema-container">
                    <p class="loading-text">Loading schema...</p>
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="block-builder/index.js"></script>
</body>
</html>